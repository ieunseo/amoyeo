<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <link rel="icon" th:href="@{/img/logo.jpeg}">
    <link rel="stylesheet" th:href="@{/css/price.css}">
    <link rel="stylesheet" th:href="@{/css/menu.css}">
    <script type="text/javascript" th:src="@{/js/menu.js}" th:defer></script>
    <script type="text/javascript" th:src="@{/js/content.js}" th:defer></script>
    <title>ë†ì‚°ë¬¼ ê°€ê²© ì •ë³´</title>
    <style>

    </style>
</head>
<body>
<div class="mask">
    <div aria-label="Orange and tan hamster running in a metal wheel" role="img" class="wheel-and-hamster">
        <div class="wheel"></div>
        <div class="hamster">
            <div class="hamster__body">
                <div class="hamster__head">
                    <div class="hamster__ear"></div>
                    <div class="hamster__eye"></div>
                    <div class="hamster__nose"></div>
                </div>
                <div class="hamster__limb hamster__limb--fr"></div>
                <div class="hamster__limb hamster__limb--fl"></div>
                <div class="hamster__limb hamster__limb--br"></div>
                <div class="hamster__limb hamster__limb--bl"></div>
                <div class="hamster__tail"></div>
            </div>
        </div>
        <div class="spoke"></div>
    </div>
</div>
<aside class="sidebar">
    <div class="logo">
        <a th:href="@{/}"><img th:src="@{/img/logo.jpeg}" alt="ë¡œê³ "></a>
    </div>
    <div class="menu-item" onclick="handleHomeClick(this)">
        <a th:href="@{/}"><img th:src="@{/img/before-home.png}" alt="ê³µêµ¬" data-active-src="@{/img/after-home.png}" data-inactive-src="@{/img/before-home.png}"><div>ê³µêµ¬</div></a>
    </div>
<!--    <div class="menu-item" onclick="changeIconAndHideMenu(this, '/img/after-search.png')">-->
<!--        <a th:href="@{/search}"><img th:src="@{/img/before-search.png}" alt="ê²€ìƒ‰" data-active-src="@{/img/after-search.png}" data-inactive-src="@{/img/before-search.png}"><div>ê²€ìƒ‰</div></a>-->
<!--    </div>-->
    <div class="menu-item active" onclick="changeIconAndHideMenu(this, '/img/after-dollar.png')">
        <a th:href="@{/price}"><img th:src="@{/img/after-dollar.png}" alt="ë¬¼ê°€" data-active-src="@{/img/after-dollar.png}" data-inactive-src="@{/img/before-dollar.png}"><div>ë¬¼ê°€</div></a>
    </div>
    <div class="menu-item profile" onclick="toggleProfileBorderAndHideMenu(this)">
        <a th:href="@{/mypage}"><img th:src="@{/img/before-profile.png}" alt="ë§ˆì´í˜ì´ì§€" th:data-active-src="@{/img/after-profile.png}" th:data-inactive-src="@{/img/before-profile.png}"><div>ë§ˆì´í˜ì´ì§€</div></a>
    </div>
    <div th:if="${session.user != null and session.user.userRights == 'Y'}" class="menu-item profile" onclick="toggleProfileBorderAndHideMenu(this)">
        <a th:href="@{/admin/admin-user}"><img th:src="@{/img/before-profile.png}" alt="ì–´ë“œë¯¼í˜ì´ì§€" th:data-active-src="@{/img/after-profile.png}" th:data-inactive-src="@{/img/before-profile.png}"><div>ê´€ë¦¬ì í˜ì´ì§€</div></a>
    </div>
    </div>
    <div>
        <div th:if="${session.user == null}">
            <a th:href="@{/login}" >
                <button class="Btn">
                    <div class="signs"><svg viewBox="0 0 512 512"><path d="M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg></div>
                    <div class="texts">ë¡œê·¸ì¸</div>
                </button>
            </a>
            <a th:href="@{/register}">
                <button class="Btn">
                    <div class="signs"><svg viewBox="0 0 512 512"><path d="M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg></div>
                    <div class="texts">íšŒì›ê°€ì…</div>
                </button>
            </a>
        </div>
        <div th:if="${session.user != null}">
            <a th:href="@{/logout}" >
                <button class="logout-Btn">
                    <div class="sign"><svg viewBox="0 0 512 512"><path d="M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg></div>
                    <div class="text">ë¡œê·¸ì•„ì›ƒ</div>
                </button>
            </a>
        </div>
    </div>
</aside>
<div class="container">
    <h2>ë†ì‚°ë¬¼ ê°€ê²© ì •ë³´</h2>
    <p>ì›í•˜ëŠ”ëŒ€ë¡œ ê²€ìƒ‰í•˜ê³  ë³¼ ìˆ˜ìˆëŠ” ë†ì‚°ë¬¼ ê°€ê²©ì •ë³´</p>

<div id="menuprice"><span>&nbsp;&nbsp;&nbsp;&nbsp;ë„ë§¤ê°€ê²©</span></div>
<div class="search-form">
    <form method="get" action="/price">
        <label for="itemName"></label>
        <input type="text" id="itemName" name="itemName" placeholder="í’ˆëª©ëª…ì„ ì…ë ¥í•˜ì‹œì˜¤" th:value="${param.itemName}">
        <button type="submit">ê²€ìƒ‰</button>
        <a href="/price" class="view-all-btn">ì „ì²´ ë³´ê¸°</a>
    </form>
</div>
<h3>ğŸ“Šì¼ì¼ ë„ë§¤ ê°€ê²©(ë‹¨ìœ„:1kg)</h3>
    <div class="table-wrapper">
        <table>
            <tr>
                <th>í’ˆëª©ëª…</th>
                <th>ë§ˆì¼“</th>
                <th>ê°€ê²©</th>
            </tr>
            <tr th:each="price : ${prices}">
                <td th:text="${price.itemName}"></td>
                <td th:text="${price.marketName}"></td>
                <td th:text="${price.price}"></td>
            </tr>
        </table>
    </div>
</div>
<footer class="footer">
    <div class="menu-item active" onclick="handleHomeClick(this)">
        <a th:href="@{/}"><img th:src="@{/img/before-home.png}" alt="ê³µêµ¬" data-active-src="@{/img/after-home.png}" data-inactive-src="@{/img/before-home.png}"></a>
    </div>

    <div class="menu-item" onclick="changeIconAndHideMenu(this, '/img/after-dollar.png')">
        <a th:href="@{/price}"><img th:src="@{/img/after-dollar.png}" alt="ë¬¼ê°€" data-active-src="@{/img/after-dollar.png}" data-inactive-src="@{/img/before-dollar.png}"></a>
    </div>
    <div class="menu-item profile" onclick="toggleProfileBorderAndHideMenu(this)">
        <a th:href="@{/mypage}"><img th:src="@{/img/before-profile.png}" alt="ë§ˆì´í˜ì´ì§€" data-active-src="@{/img/after-profile.png}" data-inactive-src="@{/img/before-profile.png}"></a>
    </div>
    <div th:if="${session.user != null and session.user.userRights == 'Y'}" class="menu-item profile" onclick="toggleProfileBorderAndHideMenu(this)">
        <a th:href="@{/admin/admin-user}"><img th:src="@{/img/before-profile.png}" alt="ì–´ë“œë¯¼í˜ì´ì§€" th:data-active-src="@{/img/after-profile.png}" th:data-inactive-src="@{/img/before-profile.png}"></a>
    </div>
</footer>
<footer class="fixed-footer">
    <div>Â© 2024 Muyaho. All rights reserved.</div>
</footer>
<script>
    const mask = document.querySelector('.mask');
    const html = document.querySelector('html');

    html.style.overflow = 'hidden'; // ë¡œë”© ì¤‘ ìŠ¤í¬ë¡¤ ë°©ì§€

    // í˜ì´ì§€ê°€ ë¡œë“œë˜ìë§ˆì ë§ˆìŠ¤í¬ë¥¼ ë³´ì—¬ì¤Œ
    window.addEventListener('DOMContentLoaded', function () {
        mask.style.display = 'flex';
    });

    window.addEventListener('load', function () {
        setTimeout(function () {
            mask.style.transition = 'opacity 0.5s ease'; // ì„œì„œíˆ ì‚¬ë¼ì§€ëŠ” íš¨ê³¼ ì¶”ê°€
            mask.style.opacity = '0'; // ì„œì„œíˆ ì‚¬ë¼ì§€ëŠ” íš¨ê³¼
            html.style.overflow = 'auto'; // ìŠ¤í¬ë¡¤ ë°©ì§€ í•´ì œ

            // ì„œì„œíˆ ì‚¬ë¼ì§€ëŠ” íš¨ê³¼ê°€ ëë‚œ í›„ maskë¥¼ ì™„ì „íˆ ì œê±°
            setTimeout(function () {
                mask.style.display = 'none';
            }, 500);
        }, 2000);
    });


</script>
</body>
</html>
